<!-- Navigation -->
{% block nav %}
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <a class="navbar-brand" href="#">Easy - Learning</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarColor03" aria-controls="navbarColor03" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarColor03">
            <ul class="navbar-nav mr-auto">
                <li class="nav-item active">
                    <a class="nav-link" href="{{ path('home') }}">Home <span class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="{{ path('courses') }}">All Courses</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">About Us</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">Our Teachers</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="{{ path("contact") }}">Contact Us</a>
                </li>
            </ul>
            <ul class="navbar-nav">
                <li class="nav-item order-2 order-md-1">
                    <a href="#" class="nav-link" title="settings"><i class="fa fa-cog fa-fw fa-lg"></i></a></li>

                <li class="dropdown order-1">

                    {# je vais faire apparaitre un bouton pour logger on non logger. #}
                    {% if is_granted('ROLE_ADMIN') or is_granted('ROLE_SUPER_ADMIN') or is_granted('ROLE_USER') or is_granted('ROLE_CONTRIBUTOR') or is_granted('ROLE_MODERATOR') %} {# On va utiliser une fonctionnalité twig. #}

                    <a href="{{ path("logout") }}" class="btn btn-danger text-white" role="button"><i class="fas fa-sign-out-alt"></i> Déconnexion {% if app.user.username is defined %}{{ app.user.username }}{% endif %}
                    </a>

                    {% else %}

                    <button type="button" id="dropdownMenu1" data-toggle="dropdown" class="btn btn-outline-secondary dropdown-toggle">
                        <i class="fas fa-sign-in-alt"></i> Log‑in <span class="caret"></span></button>

                    <ul class="dropdown-menu dropdown-menu-right mt-2">

                        <li class="px-3 py-2">

                            <form class="form" role="form" action="{{ path('login') }}" method="post" style="width: 250px;">

                                <div class="form-group">

                                    <input title="Kourriêl." type="email" class="form-control form-control-sm" required name="_username" placeholder="Votre email…" value="{% if last_username is defined %}{{ last_username }}{% endif %}">

                                </div>

                                <div class="form-group">

                                    <input title="Mot de passe." type="password" class="form-control form-control-sm" required name="_password" placeholder="Votre mot de passe…">
                                </div>

                                <div class="form-group">

                                    <input type="submit" class="form-control btn btn-primary btn-block" value="S'identifier.">
                                    <input type="hidden" name="_csrf_token" value="{{ csrf_token('authenticate') }}">

                                </div>

                                <div class="form-group">

                                    <a href=" {{ path("user_new") }}" class="btn btn-primary btn-block" style="color: white;">Créé un profile</a>

                                </div>

                                <div class="form-group text-center">

                                    <small> <a href="#" data-toggle="modal" data-target="#modalPassword">Mot&nbsp;de&nbsp;passe&nbsp;oublié&nbsp;?<br><small>(Non fonctionnel)</small></a>
                                    </small>
                                </div>
                            </form>

                            {% endif %}
                        </li>
                    </ul>
                </li>
            </ul>
            <ul class="navbar-nav">
                <li class="nav-item primary">
                    <a class="nav-link" href="{{ path('admin') }}">Administration</a>
                </li>
            </ul>
            <form class="form-inline my-2 my-lg-0">
                <input class="form-control mr-sm-2" type="text" placeholder="Search">
                <button class="btn btn-secondary my-2 my-sm-0" type="submit">Search</button>
            </form>
        </div>
    </nav>
{% endblock %}
<!-- End Navigation -->